如果有多个消息过来是并行的，所以要考虑加锁和先后问题