HANDLE icmphandle = IcmpCreateFile();
	char reply[sizeof(icmp_echo_reply)+8];
	icmp_echo_reply* iep=(icmp_echo_reply*)&reply;
	for(i=0; i<3; i++) // ping the web server three times for its availability
	{
		iep->RoundTripTime = 0xffffffff;
		IcmpSendEcho(icmphandle,inet_addr(szWebServer),0,0,NULL,reply,sizeof(icmp_echo_reply)+8, 10);
		if(iep->RoundTripTime == 0)
			break;
	}
	IcmpCloseHandle(icmphandle);
	
	
	
	
	CString strServerName = _T(szWebServer);
	CString strObject = _T(szFileName);
	strObject = URLEncode(strObject);
	if(iep->RoundTripTime > 0 || !m_pStreamPlayer[0]->CheckHost(szWebServer, 80))
	{
		MessageBox(szQuoteFile, "获取举证索引文件失败", MB_ICONEXCLAMATION);
		return FALSE;
	}
